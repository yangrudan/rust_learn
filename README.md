# RUSTæ‰‹å†Œ


## 1.æ•°æ®ç±»å‹

### 1.1 åŸç”Ÿç±»å‹

**æ•´æ•°** 1ã€**æµ®ç‚¹æ•°** 1.2ã€**å­—ç¬¦** 'a'ã€**å­—ç¬¦ä¸²** "abc"ã€**å¸ƒå°”å€¼** true å’Œ**å•å…ƒç±»å‹** () å¯ä»¥ç”¨æ•°å­—ã€æ–‡å­—æˆ–ç¬¦å·ä¹‹ç±»çš„ â€œå­—é¢é‡â€ï¼ˆliteralï¼‰æ¥è¡¨ç¤º;

é€šè¿‡åŠ å‰ç¼€ 0xã€0oã€0bï¼Œæ•°å­—å¯ä»¥ç”¨åå…­è¿›åˆ¶ã€å…«è¿›åˆ¶æˆ–äºŒè¿›åˆ¶è®°æ³•è¡¨ç¤ºã€‚

```Rust
const MAX_POINT: i32 = 100;  // å¸¸é‡
let num = 43u8;
```

**å…ƒç»„**æ˜¯ä¸€ä¸ªå¯ä»¥åŒ…å«å„ç§ç±»å‹å€¼çš„ç»„åˆã€‚å…ƒç»„ä½¿ç”¨æ‹¬å· () æ¥æ„é€ ï¼ˆconstructï¼‰ï¼Œè€Œæ¯ä¸ªå…ƒç»„è‡ªèº«åˆæ˜¯ä¸€ä¸ªç±»å‹æ ‡è®°ä¸º (T1, T2, ...) çš„å€¼ï¼Œå…¶ä¸­ T1ã€T2 æ˜¯æ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€‚å‡½æ•°å¯ä»¥ä½¿ç”¨å…ƒç»„æ¥è¿”å›å¤šä¸ªå€¼ï¼Œå› ä¸ºå…ƒç»„å¯ä»¥æ‹¥æœ‰ä»»æ„å¤šä¸ªå€¼ã€‚

```Rust
// åŒ…å«å„ç§ä¸åŒç±»å‹çš„å…ƒç»„
let long_tuple = (1u8, 2u16, 3u32, 4u64,
                 -1i8, -2i16, -3i32, -4i64,
                 0.1f32, 0.2f64, 'a', true);
// é€šè¿‡å…ƒç»„çš„ä¸‹æ ‡æ¥è®¿é—®å…·ä½“çš„å€¼
println!("long tuple first value: {}", long_tuple.0);

// å…ƒç»„ä¹Ÿå¯ä»¥å……å½“å…ƒç»„çš„å…ƒç´ 
let tuple_of_tuples = ((1u8, 2u16, 2u32), (4u64, -1i8), -2i16);

// åˆ›å»ºå•å…ƒç´ å…ƒç»„éœ€è¦ä¸€ä¸ªé¢å¤–çš„é€—å·ï¼Œè¿™æ˜¯ä¸ºäº†å’Œè¢«æ‹¬å·åŒ…å«çš„å­—é¢é‡ä½œåŒºåˆ†ã€‚
println!("one element tuple: {:?}", (5u32,));
println!("just an integer: {:?}", (5u32));

// å…ƒç»„å¯ä»¥è¢«è§£æ„ï¼ˆdeconstructï¼‰ï¼Œä»è€Œå°†å€¼ç»‘å®šç»™å˜é‡
let tuple = (1, "hello", 4.5, true);

```

**æ•°ç»„array**æ˜¯ä¸€ç»„æ‹¥æœ‰ç›¸åŒç±»å‹ T çš„å¯¹è±¡çš„é›†åˆï¼Œåœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜å‚¨çš„ã€‚æ•°ç»„ä½¿ç”¨ä¸­æ‹¬å· [] æ¥åˆ›å»ºï¼Œä¸”å®ƒä»¬çš„å¤§å°åœ¨ç¼–è¯‘æ—¶ä¼šè¢«ç¡®å®šã€‚æ•°ç»„çš„ç±»å‹æ ‡è®°ä¸º [T; length]ï¼ˆè¯‘æ³¨ï¼šT ä¸ºå…ƒç´ ç±»å‹ï¼Œlength è¡¨ç¤ºæ•°ç»„å¤§å°ï¼‰ã€‚

**åˆ‡ç‰‡slice**ç±»å‹å’Œæ•°ç»„ç±»ä¼¼ï¼Œä½†å…¶å¤§å°åœ¨ç¼–è¯‘æ—¶æ˜¯ä¸ç¡®å®šçš„ã€‚ç›¸åï¼Œåˆ‡ç‰‡æ˜¯ä¸€ä¸ªåŒå­—å¯¹è±¡ï¼ˆtwo-word objectï¼‰ï¼Œç¬¬ä¸€ä¸ªå­—æ˜¯ä¸€ä¸ªæŒ‡å‘æ•°æ®çš„æŒ‡é’ˆï¼Œç¬¬äºŒä¸ªå­—æ˜¯åˆ‡ç‰‡çš„é•¿åº¦ã€‚è¿™ä¸ª â€œå­—â€ çš„å®½åº¦å’Œ usize ç›¸åŒï¼Œç”±å¤„ç†å™¨æ¶æ„å†³å®šï¼Œæ¯”å¦‚åœ¨ x86-64 å¹³å°ä¸Šå°±æ˜¯ 64 ä½ã€‚slice å¯ä»¥ç”¨æ¥å€Ÿç”¨æ•°ç»„çš„ä¸€éƒ¨åˆ†ã€‚slice çš„ç±»å‹æ ‡è®°ä¸º &[T]ã€‚

```Rust
use std::mem;

// æ­¤å‡½æ•°å€Ÿç”¨ä¸€ä¸ª slice
fn analyze_slice(slice: &[i32]) {
    println!("first element of the slice: {}", slice[0]);
    println!("the slice has {} elements", slice.len());
}

fn main() {
    // å®šé•¿æ•°ç»„ï¼ˆç±»å‹æ ‡è®°æ˜¯å¤šä½™çš„ï¼‰
    let xs: [i32; 5] = [1, 2, 3, 4, 5];

    // æ‰€æœ‰å…ƒç´ å¯ä»¥åˆå§‹åŒ–æˆç›¸åŒçš„å€¼
    let ys: [i32; 500] = [0; 500];

    // ä¸‹æ ‡ä» 0 å¼€å§‹
    println!("first element of the array: {}", xs[0]);
    println!("second element of the array: {}", xs[1]);

    // `len` è¿”å›æ•°ç»„çš„å¤§å°
    println!("array size: {}", xs.len());

    // æ•°ç»„æ˜¯åœ¨æ ˆä¸­åˆ†é…çš„
    println!("array occupies {} bytes", mem::size_of_val(&xs));

    // æ•°ç»„å¯ä»¥è‡ªåŠ¨è¢«å€Ÿç”¨æˆä¸º slice
    println!("borrow the whole array as a slice");
    analyze_slice(&xs);

    // slice å¯ä»¥æŒ‡å‘æ•°ç»„çš„ä¸€éƒ¨åˆ†
    println!("borrow a section of the array as a slice");
    analyze_slice(&ys[1 .. 4]);

    // è¶Šç•Œçš„ä¸‹æ ‡ä¼šå¼•å‘è‡´å‘½é”™è¯¯ï¼ˆpanicï¼‰
    println!("{}", xs[5]);
}
```

ğŸ“– **[examples/1_æ•°æ®ç±»å‹.rs](examples/1_æ•°æ®ç±»å‹.rs)**


### 1.2 è‡ªå®šä¹‰ç±»å‹



**ç»“æ„ä½“ï¼ˆstructureï¼Œç¼©å†™æˆ struct**æœ‰ 3 ç§ç±»å‹ï¼Œä½¿ç”¨ struct å…³é”®å­—æ¥åˆ›å»ºï¼š

å…ƒç»„ç»“æ„ä½“ï¼ˆtuple structï¼‰ï¼Œäº‹å®ä¸Šå°±æ˜¯å…·åå…ƒç»„è€Œå·²ã€‚

ç»å…¸çš„ C è¯­è¨€é£æ ¼ç»“æ„ä½“ï¼ˆC structï¼‰ã€‚

å•å…ƒç»“æ„ä½“ï¼ˆunit structï¼‰ï¼Œä¸å¸¦å­—æ®µï¼Œåœ¨æ³›å‹ä¸­å¾ˆæœ‰ç”¨ã€‚

ğŸ“– **[examples/9_struct.rs](examples/9_struct.rs)**

**enum** å…³é”®å­—å…è®¸åˆ›å»ºä¸€ä¸ªä»æ•°ä¸ªä¸åŒå–å€¼ä¸­é€‰å…¶ä¸€çš„æšä¸¾ç±»å‹ï¼ˆenumerationï¼‰ã€‚ä»»ä½•ä¸€ä¸ªåœ¨ struct ä¸­åˆæ³•çš„å–å€¼åœ¨ enum ä¸­ä¹Ÿåˆæ³•ã€‚